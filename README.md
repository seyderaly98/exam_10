# exam_10

Необходимо создать приложение для оценки различных заведений города - кафе, ресторанов, точек фаст-фуда, баров, клубов и т.п. Любой зарегистрированный пользователь может добавить заведение. Затем этому заведению зарегистрированные пользователи могут оставлять отзывы с рейтингом.

Общий рейтинг заведения рассчитывается как среднее арифметическое всех оценок, оставленных пользователями. Рейтинги округляются до десятичной части.

Дизайн, приведенный в виде мокапов является информационным и может быть изменен при желании. Главное, чтобы все выглядело аккуратно и ничего никуда не вылазило. Верстка может быть выполнена с помощью bootstrap или любого другого фреймворка.

Список заведений
Главная страница для незарегистрированного пользователя
На главной странице - список всех заведений. При клике на изображение или название заведения производится переход на страницу просмотра заведения.

В меню - возможность перейти на страницу логина или зарегистрироваться. Если пользователь вошел на сайт, ему отображается опция "Выйти" (Logout) или "Создать новое заведение", которое ведет на страницу добавления заведения. Незарегистрированный пользователь не может попасть на страницу добавления заведения.

В меню также есть простая форма поиска. Поиск должен находить заведения по названию и описанию.

Главная страница для зарегистрированного пользователя

Список заведений должен иметь пагинацию - по 20 заведений на одной странице.

Добавление заведения
Форма добавления заведения доступна только зарегистрированным пользователям. Все поля являются обязательными к заполнению. В случае не заполнения какого-либо из полей должно появиться сообщение об ошибке валидации.




Форма добавления заведения

Просмотр заведения
Просмотр заведения:
фото, описание;
рейтинги;
список отзывов, отсортированный по дате добавления отзыва;
форма рейтинга;
форма добавления нового фото.
галерея добавленных фото заведения


Страница просмотра заведения, оставления ревью и добавления фото







Система пользователей
Пользователи должны иметь роли. Ролей две - user и admin. Admin должен иметь возможность удалять все что угодно из основных интерфейсов. 
На странице списка заведений у каждого заведения появляется кнопка или ссылка "удалить". 
На странице просмотра заведения у каждого фото и отзыва появляется кнопка или ссылка "удалить". При удалении отзыва рейтинг кафе должен пересчитываться!

Роль admin назначается только со стороны базы данных. Создайте фикстурного пользователя с ролью admin. 

Обычный пользователь (user) не имеет никаких прав на удаление и может только добавлять новые заведения, фото и рейтинги.

Общие указания
Сдавать проект в виде ссылки на удаленный репозиторий (GitLab), так, чтобы проверяющий смог склонировать ваш проект оттуда. Состояние проекта будет оцениваться на момент последнего коммита по дате и времени завершения контрольной (если в проекте будут коммиты дальше по дате/времени, они не будут учтены).
В репозитории должен присутствовать README.md-файл содержащий подробную инструкцию по настройке и запуску приложения, включая системные зависимости;
Коммитов в проекте должно быть много, чем больше (минимум 1 в час), тем лучше. Если будет только один или несколько больших коммитов - балл будет снижен. 
Если в коммитах присутствуют файлы не относящиеся к атомарному смыслу коммита - балл будет снижен. 
Если из текста комита не будет понятно о чем коммит - балл будет снижен.
Использование issue tracker, встроенного в сервис GitLab обязательно, минимум 5 Тасков
В проекте должен быть правильный файл .gitignore и под версионным контролем должны отсутствовать лишние файлы (файлы IDE, загруженные изображения).
В проекте должен присутствовать миграции для наполнения всех таблиц демо данными, для каждой из созданных таблиц 5-10 записей (Вспоминаем DataSeed)
Приложение должно запуститься на компьютере проверяющего без дополнительной настройки компьютера (сверх той, что описана в README.md) и любого другого участия проверяющего (например, исправление багов и создание фикстур самостоятельно) направленного на починку программы;
Если в получившемся приложении не получится проверить весь функционал, не залезая в консоль или правя базу данных - это будет считаться в минус. 

Бонусные задания :
Реализовать галерею в виде слайдера, с возможностью просмотра полноразмерного изображения по клику.
Сделать выбор рейтинга в виде выбора звезд на JS, вместо выпадающих меню.
Если пользователь оставил отзыв, запрещать делать ему это второй раз для данного заведения. Вместо этого показывать кнопку удаления отзыва, чтобы он мог удалить старый и оставить новый отзыв.
Валидация при добавлении заведения (Проверять существует ли заведение с таким названием, при проверке можно нормализовать название заведения)
Реализовать с помощью Ajax добавление отзыва и загрузку фотографий на странице заведения. 
Так же вы можете реализовать форму добавления отзыва с помощью popup окна

Каждое выполненное бонусное задание даст дополнительные 0,4 балла
